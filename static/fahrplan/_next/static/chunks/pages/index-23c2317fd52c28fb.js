(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5335:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(336)}])},336:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return _},default:function(){return C}});var r=n(1527),s=n(959),i=n(1161),a=n.n(i),l=n(4417),c=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},o=function(e,t){return e.getFullYear()<t.getFullYear()||e.getFullYear()===t.getFullYear()&&e.getMonth()<t.getMonth()||e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()<t.getDate()},d=function(e,t){var n=c(e,t),r=o(e,t);return n?0:r?-1:1},u=function(e,t,n){var r=d(e,n)>0?e:n;return 0>d(r,t)?r:t},h=function(e){return e.toLocaleTimeString("de-DE",{hour:"numeric",minute:"numeric"})},x=n(407),f=n(9447),g=n(4405),v=(0,s.forwardRef)(function(e,t){return(0,r.jsxs)("svg",(0,g.Z)((0,f.Z)({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",ref:t},e),{children:[(0,r.jsx)("line",{stroke:"currentColor",strokeWidth:"2",x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{stroke:"currentColor",strokeWidth:"2",x1:"6",y1:"6",x2:"18",y2:"18"})]}))}),m=function(e){var t=e.title,n=e.trigger,s=e.children;return(0,r.jsxs)(x.fC,{children:[(0,r.jsx)(x.xz,{asChild:!0,children:n}),(0,r.jsxs)(x.h_,{className:"fixed w-screen h-screen top-0 right-0",children:[(0,r.jsx)(x.aV,{children:(0,r.jsx)("div",{className:"bg-black bg-opacity-25 fixed top-0 left-0 w-screen h-screen"})}),(0,r.jsx)(x.VY,{children:(0,r.jsx)("div",{className:"absolute flex flex-col gap-2 bottom-0 w-full h-fit pb-32 rounded bg-white overflow-hidden",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(x.Dx,{className:"font-bold p-2",children:t}),(0,r.jsx)("div",{className:"overflow-scroll",children:s}),(0,r.jsx)(x.x8,{className:"absolute top-0 right-0 p-2",children:(0,r.jsx)(v,{})})]})})})]})]})},p=function(e){var t=e.event;return(0,r.jsxs)("div",{children:[t.location?(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsx)("span",{className:"text-slate-600 p-2",children:"Ort: "}),(0,r.jsx)("span",{className:"p-2",children:t.location})]}):null,(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsx)("span",{className:"text-slate-600 p-2",children:"Zeit: "}),(0,r.jsxs)("span",{className:"p-2",children:[h(t.start)," - ",h(t.end)]})]}),t.description?(0,r.jsx)("div",{className:"p-2 ",dangerouslySetInnerHTML:{__html:t.description}}):null]})},j={1:"bg-blue-400",2:"bg-blue-300"},w=function(e,t){return(t.getHours()||24)-e.getHours()+(t.getMinutes()-e.getMinutes())/60},N=function(e){var t,n,r=e.map(function(e){return e.start.getHours()+e.start.getMinutes()/60}),s=e.map(function(e){return e.end.getHours()+e.end.getMinutes()/60}),i=Math.floor((t=Math).min.apply(t,(0,l.Z)(r))),a=Math.ceil((n=Math).max.apply(n,(0,l.Z)(s))),c=e.find(function(e){return e.start.getDate()!==e.end.getDate()});return c&&0===c.end.getHours()&&0===c.end.getMinutes()?a=24:c&&(i=0,a=24),Array.from({length:a-i+1},function(e,t){return new Date("2022-10-01T".concat((i+t).toString().padStart(2,"0"),":00:00"))})},y=function(e){var t=e.events,n=e.date,s=N(t),i=s[0],a=t.filter(function(e){return c(e.start,n)||c(e.end,n)&&0!==e.end.getHours()&&0!==e.end.getMinutes()});return(0,r.jsxs)("div",{className:"w-full flex overflow-y-scroll",style:{height:"calc(100vh - 140px"},children:[(0,r.jsx)("div",{className:"w-14 h-fit",children:s.map(function(e){return(0,r.jsx)("div",{className:"flex items-center justify-end text-right font-medium text-sm",style:{height:48},children:(0,r.jsx)("div",{className:"px-2",children:h(e)})},e.toISOString())})}),(0,r.jsx)("div",{className:"grow relative",children:a.map(function(e){var t,n,s,a;return(0,r.jsx)(m,{title:e.title,trigger:(0,r.jsxs)("div",{className:"absolute rounded-lg drop-shadow-md px-2 py-1 ".concat(j[e.priority]),style:{left:16*(e.priority-1),width:"calc(100% - ".concat(8*(e.priority-1),"px)"),top:(s=i,a=e.start,(a.getHours()-s.getHours()+a.getMinutes()/60+.5)*48+2),height:(t=e.start,48*w(t,n=e.end)-4)},children:[(0,r.jsx)("div",{className:"text-white text-sm truncate",children:e.title}),(0,r.jsx)("div",{className:"text-white text-xs",children:"".concat(h(e.start)," - ").concat(h(e.end))}),w(e.start,e.end)>1?(0,r.jsx)("div",{className:"text-white text-xs truncate",children:e.short_location}):null]}),children:(0,r.jsx)(p,{event:e})},e.uuid)})}),(0,r.jsx)("div",{className:"w-14 h-fit"})]})},D=(0,s.forwardRef)(function(e,t){return(0,r.jsx)("svg",(0,g.Z)((0,f.Z)({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",ref:t},e),{children:(0,r.jsx)("polyline",{stroke:"currentColor",strokeWidth:"2",points:"15 18 9 12 15 6"})}))}),b=(0,s.forwardRef)(function(e,t){return(0,r.jsx)("svg",(0,g.Z)((0,f.Z)({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",ref:t},e),{children:(0,r.jsx)("polyline",{stroke:"currentColor",strokeWidth:"2",points:"9 18 15 12 9 6"})}))}),k=function(e){var t,n=e.date,s=e.onPrev,i=e.onNext,a=e.canPrev,l=e.canNext;return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h1",{className:"p-4 text-4xl font-semibold",children:"Fahrplan"}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"p-4 rounded-full "+(a?"text-black":"text-slate-300"),onClick:a?s:void 0,children:(0,r.jsx)(D,{style:{width:36,height:36}})}),(0,r.jsxs)("div",{className:"grow text-2xl font-semibold text-center leading-[calc(36px+2rem)]",children:[n.toLocaleDateString("de-DE",{weekday:"short"})," - ",n.toLocaleDateString("de-DE",{day:"numeric",month:"numeric"})]}),(0,r.jsx)("div",{className:"p-4 rounded-full "+(l?"text-black":"text-slate-300"),onClick:l?i:void 0,children:(0,r.jsx)(b,{style:{width:36,height:36}})})]})]})};n(2357);var M=function(e,t){var n=e.flatMap(function(e){return[e.start,e.end]}).sort(d),r=n[0],s=n[n.length-1],i=u(r,s,t);return{startingDay:r,endingDay:s,initialDay:i}},_=!0,C=function(e){var t,n=(t=e.serializedEvents).map(function(e){return(0,g.Z)((0,f.Z)({},e),{start:new Date(e.start),end:new Date(e.end)})}),i=M(n,new Date),l=i.startingDay,c=i.endingDay,d=i.initialDay,u=(0,s.useState)(d),h=u[0],x=u[1],v=o(l,h),m=o(h,c),p=function(){var e=new Date(h);e.setDate(h.getDate()-1),x(e)},j=function(){var e=new Date(h);e.setDate(h.getDate()+1),x(e)};return(0,r.jsxs)("div",{className:"w-screen h-screen",children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Create Next App"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(k,{date:h,onPrev:p,onNext:j,canPrev:v,canNext:m}),(0,r.jsx)(y,{events:n,date:h})]})}}},function(e){e.O(0,[734,774,888,179],function(){return e(e.s=5335)}),_N_E=e.O()}]);